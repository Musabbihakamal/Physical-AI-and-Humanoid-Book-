# Railway configuration file

[build]
builder = "NIXPACKS"  # Using Nixpacks which can handle Python projects

[deploy]
startCommand = "cd backend && uvicorn src.main:app --host=0.0.0.0 --port=$PORT"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

[variables]
OPENAI_API_KEY = { fromSecret = true }
QDRANT_URL = { fromSecret = true }
QDRANT_API_KEY = { fromSecret = true }
DATABASE_URL = { fromSecret = true }
SECRET_KEY = { fromSecret = true }
POSTGRES_PASSWORD = { fromSecret = true }